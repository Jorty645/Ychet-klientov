{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">üìä –û—Ç—á–µ—Ç—ã</h1>

<div class="row">
    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–ª–∏–µ–Ω—Ç–∞–º -->
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–ª–∏–µ–Ω—Ç–∞–º</h5>
            </div>
            <div class="card-body">
                <ul class="list-group">
                    <li class="list-group-item d-flex justify-content-between">
                        <span>–í—Å–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤:</span>
                        <strong>{{ clients_stats.total_clients or 0 }}</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                        <span>–ê–∫—Ç–∏–≤–Ω—ã—Ö –º–µ—Å—è—Ü–µ–≤:</span>
                        <strong>{{ clients_stats.active_months or 0 }}</strong>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–∫–∞–∑–∞–º -->
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–∫–∞–∑–∞–º</h5>
            </div>
            <div class="card-body">
                {% if orders_stats %}
                    <ul class="list-group">
                        {% for stat in orders_stats %}
                        <li class="list-group-item d-flex justify-content-between">
                            <span>{{ stat.status }}:</span>
                            <strong>{{ stat.count }} –∑–∞–∫. ({{ "%.2f"|format(stat.total) }} ‚ÇΩ)</strong>
                        </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p class="text-muted">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–∫–∞–∑–∞—Ö</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h5>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2 d-md-flex">
                    <a href="{{ url_for('clients') }}" class="btn btn-outline-primary me-2">üìã –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤</a>
                    <a href="{{ url_for('orders') }}" class="btn btn-outline-success me-2">üì¶ –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤</a>
                    <a href="{{ url_for('add_client') }}" class="btn btn-outline-warning me-2">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</a>
                    <a href="{{ url_for('add_order') }}" class="btn btn-outline-info">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}